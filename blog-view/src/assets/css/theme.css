/* 全局明/暗主题覆盖：尽量不影响首页首屏三图，仅调整内容区与常见容器 */

.theme-dark body {
	background-color: #0f1115;
	color: #e5e7eb;
}

.theme-dark .main {
	background-color: #0f1115;
}

/* 常见容器与分段 */
.theme-dark .ui.segment,
.theme-dark .ui.message,
.theme-dark .ui.menu,
.theme-dark .ui.card,
.theme-dark .el-card,
.theme-dark .el-message,
.theme-dark .el-message-box,
.theme-dark .el-dialog {
	background-color: #151821 !important;
	color: #e5e7eb !important;
}

.theme-dark .ui.segment,
.theme-dark .ui.message,
.theme-dark .ui.card,
.theme-dark .el-card {
	border-color: #2a2f3a !important;
}

/* 文本色与链接 */
.theme-dark a { color: #60a5fa; }
.theme-dark a:hover { color: #93c5fd; }

/* 表单输入基础 */
.theme-dark .el-input__inner,
.theme-dark .el-textarea__inner {
	background-color: #0f1115;
	border-color: #2a2f3a;
	color: #e5e7eb;
}

.theme-dark .el-input__inner::placeholder,
.theme-dark .el-textarea__inner::placeholder {
	color: #9aa2b1;
}

/* 分割线 */
.theme-dark .el-divider { border-color: #2a2f3a; }

/* 自定义黑色文字类在暗色下统一改为浅色，提高可读性 */
.theme-dark .m-common-black,
.theme-dark .m-black {
	color: #e5e7eb !important;
}

/* 列表、标题等常用文字在暗色下的对比度 */
.theme-dark .ui.list .item,
.theme-dark .ui.link.list .item,
.theme-dark .ui.header,
.theme-dark .ui.breadcrumb,
.theme-dark .ui.menu .item,
.theme-dark .ui.table,
.theme-dark .ui.comments .comment .text {
	color: #e5e7eb !important;
}

/* 标签与丝带在暗色下边框与文字对比 */
.theme-dark .ui.label,
.theme-dark .ui.tag.label,
.theme-dark .ui.ribbon.label {
	color: #e5e7eb !important;
	border-color: #2a2f3a !important;
}

/* ---------------- Markdown (.typo) 暗色适配 ---------------- */
.theme-dark .typo { color: #e5e7eb; }

.theme-dark .typo a { color: #34d399; }
.theme-dark .typo a:hover { color: #6ee7b7; }
.theme-dark .typo a::before { background-color: #34d399; }

.theme-dark .typo h1,
.theme-dark .typo h2,
.theme-dark .typo h3 { border-bottom-color: #374151; }
.theme-dark .typo h6 { color: #9ca3af; }

.theme-dark .typo small,
.theme-dark .typo figcaption { color: #9ca3af; }

.theme-dark .typo blockquote {
	color: #9ca3af;
	border-left-color: #42b983; /* 保持主题色 */
}

/* 行内代码在暗色下的对比度 */
.theme-dark .typo p code,
.theme-dark .typo ul code,
.theme-dark .typo ol code {
	color: #fbbf24;
	background: #1f2937;
	border-color: #374151;
}

.theme-dark .typo hr { border-bottom-color: #374151; }

/* 表格暗色对比度 */
.theme-dark .typo table {
	background: #1a1d24 !important;
	border-color: #374151 !important;
}

.theme-dark .typo table th,
.theme-dark .typo table td,
.theme-dark .typo table caption {
	color: #d1d5db !important;
	border-color: #374151 !important;
	background: #1a1d24 !important;
}

.theme-dark .typo table th,
.theme-dark .typo table thead th {
	background: #151821 !important;
	color: #e5e7eb !important;
}

.theme-dark .typo table tbody tr:nth-child(odd) td {
	background: #1a1d24 !important;
}

.theme-dark .typo table tbody tr:nth-child(even) td {
	background: #1f2328 !important;
}

.theme-dark .typo table tbody tr:hover td {
	background: #2a2f3a !important;
}

/* ---------------- Introduction 卡片与折叠面板 ---------------- */
.theme-dark .ui.card,
.theme-dark .ui.card > .content,
.theme-dark .ui.card > .extra.content {
	background-color: #151821 !important;
	color: #e5e7eb !important;
	border-color: #2a2f3a !important;
}

.theme-dark .ui.card .header { color: #e5e7eb !important; }

.theme-dark .ui.circular.icon.button {
	background-color: #1f2937 !important;
	color: #e5e7eb !important;
	border: 1px solid #2a2f3a !important;
}
.theme-dark .ui.circular.icon.button:hover { background-color: #374151 !important; }

/* 去除 Introduction 外围白边（segments 自带边框/阴影） */
.theme-dark .ui.segments {
	background-color: #151821 !important;
	border: 1px solid #2a2f3a !important;
	box-shadow: none !important;
}
.theme-dark .ui.segments > .segment {
	background-color: #151821 !important;
	border-color: #2a2f3a !important;
}
.theme-dark .ui.card { box-shadow: none !important; }

/* element collapse */
.theme-dark .el-collapse,
.theme-dark .el-collapse-item__wrap {
	background-color: #151821 !important;
	border-color: #2a2f3a !important;
}
.theme-dark .el-collapse-item__header {
	background-color: #151821 !important;
	color: #e5e7eb !important;
	border-bottom-color: #2a2f3a !important;
}
.theme-dark .el-collapse-item__content { color: #e5e7eb !important; }

/* ---------------- “阅读全文”按钮在暗色下的可读性 ---------------- */
.theme-dark .color-btn {
	color: #ffffff !important; /* 保持纯白文字，不被 .theme-dark a 覆盖 */
	text-shadow: 0 1px 2px rgba(0,0,0,.6);
}

/* ---------------- Prism 代码块暗色适配 ---------------- */
.theme-dark pre[class*="language-"],
.theme-dark .typo pre {
	background: #1f2937 !important; /* slate-800 */
	border: 0 !important;
	box-shadow: none !important;
}

/* 行号插件右侧分隔线变暗 */
.theme-dark .line-numbers .line-numbers-rows {
	border-right: 1px solid #374151 !important; /* slate-700 */
}

/* 代码工具栏在暗色下的可读性 - 复制按钮美化 */
.theme-dark div.code-toolbar > .toolbar > .toolbar-item > a,
.theme-dark div.code-toolbar > .toolbar > .toolbar-item > button,
.theme-dark div.code-toolbar > .toolbar > .toolbar-item > span {
	color: #f3f4f6 !important;
	background: linear-gradient(135deg, rgba(79, 70, 229, 0.85), rgba(124, 58, 237, 0.85)) !important;
	border: 1px solid rgba(255, 255, 255, 0.08) !important;
	box-shadow: 
		0 4px 6px -1px rgba(0, 0, 0, 0.4),
		0 2px 4px -1px rgba(0, 0, 0, 0.3),
		inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
}

.theme-dark div.code-toolbar > .toolbar > .toolbar-item > button:hover,
.theme-dark div.code-toolbar > .toolbar > .toolbar-item > span:hover {
	background: linear-gradient(135deg, rgba(99, 102, 241, 0.95), rgba(139, 92, 246, 0.95)) !important;
	box-shadow: 
		0 8px 15px -3px rgba(79, 70, 229, 0.5),
		0 4px 6px -2px rgba(124, 58, 237, 0.4),
		inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
}

/* 暗色模式下复制成功状态 */
.theme-dark div.code-toolbar > .toolbar > .toolbar-item > span[data-copy-state="copy-success"],
.theme-dark div.code-toolbar > .toolbar > .toolbar-item > button[data-copy-state="copy-success"] {
	background: linear-gradient(135deg, rgba(5, 150, 105, 0.9), rgba(4, 120, 87, 0.9)) !important;
	box-shadow: 
		0 4px 6px -1px rgba(5, 150, 105, 0.5),
		0 2px 4px -1px rgba(4, 120, 87, 0.4),
		inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
}

/* 暗色模式下语言标签样式 */
.theme-dark div.code-toolbar > .toolbar > .toolbar-item:first-child > span:not(.copy-to-clipboard-button):not([data-copy-state]) {
	background: rgba(17, 24, 39, 0.9) !important;
	color: #9ca3af !important;
	border: 1px solid rgba(55, 65, 81, 0.6) !important;
	box-shadow: none !important;
}

/* ---------------- 评论表单暗色适配 ---------------- */
.theme-dark .form {
	background: #151821 !important;
}

.theme-dark .form h3 {
	color: #e5e7eb !important;
}

.theme-dark .el-form textarea,
.theme-dark .el-form input {
	color: #e5e7eb !important;
}

.theme-dark .el-form .el-form-item__label {
	color: #e5e7eb !important;
}

/* 评论表单输入框暗色适配 - 更高优先级 */
.theme-dark .form .el-input__inner,
.theme-dark .form .el-textarea__inner {
	background-color: #0f1115 !important;
	border-color: #2a2f3a !important;
	color: #e5e7eb !important;
}

.theme-dark .form .el-input__inner::placeholder,
.theme-dark .form .el-textarea__inner::placeholder {
	color: #6b7280 !important;
}

/* 输入框前缀图标暗色适配 */
.theme-dark .form .el-input__icon {
	color: #9aa2b1 !important;
}

/* 字数统计暗色适配 */
.theme-dark .form .el-input__count,
.theme-dark .form .el-input__count-inner {
	background: transparent !important;
	color: #6b7280 !important;
}

/* 表情选择器暗色适配 */
.theme-dark .emoji-box {
	background: #151821 !important;
	border-color: #2a2f3a !important;
	box-shadow: 0 11px 12px 0 rgba(0, 0, 0, 0.5) !important;
}

.theme-dark .emoji-box .emoji-title {
	color: #9aa2b1 !important;
}

.theme-dark .emoji-box .emoji-wrap .emoji-list:hover {
	background-color: #2a2f3a !important;
}

.theme-dark .emoji-box .emoji-tabs {
	background-color: #0f1115 !important;
}

.theme-dark .emoji-box .emoji-tabs .tab-link.on {
	background-color: #151821 !important;
}

.theme-dark .emoji-box .emoji-tabs .tab-link:hover {
	background: #2a2f3a !important;
}

/* ---------------- 导航栏搜索框暗色适配 ---------------- */
.theme-dark .m-search .el-input__inner {
	background-color: transparent !important;
	border-color: transparent !important;
	color: rgba(255, 255, 255, 0.9) !important;
}

.theme-dark .m-search .el-input__inner::placeholder {
	color: rgba(255, 255, 255, 0.5) !important;
}

/* 搜索下拉框暗色适配 */
.theme-dark .m-search-item {
	background-color: #151821 !important;
	border-color: #2a2f3a !important;
}

.theme-dark .m-search-item li {
	color: #e5e7eb !important;
}

.theme-dark .m-search-item li:hover {
	background-color: #2a2f3a !important;
}

.theme-dark .m-search-item li .title {
	color: #e5e7eb !important;
}

.theme-dark .m-search-item li .content {
	color: #9aa2b1 !important;
}

/* ---------------- 暗色模式下引用块美化 ---------------- */
.theme-dark .typo blockquote {
	background: linear-gradient(135deg, #1a1d24 0%, #151821 100%) !important;
	color: #9ca3af !important;
	border-left-color: #42b983 !important;
	box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
}

.theme-dark .typo blockquote::before {
	color: #42b983;
	opacity: 0.15;
}

.theme-dark .typo blockquote:hover {
	box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.3);
}

/* ---------------- 暗色模式下图片样式 ---------------- */
.theme-dark .typo img:hover {
	box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
}

/* ---------------- 暗色模式下目录(TOC)高亮 ---------------- */
.theme-dark .m-toc .is-active-link {
	color: #818cf8 !important;
	background: linear-gradient(90deg, rgba(129, 140, 248, 0.15), transparent);
}

.theme-dark .m-toc .is-active-link::before {
	background: linear-gradient(180deg, #818cf8, #a78bfa);
}

.theme-dark .m-toc .toc-link:hover {
	background: rgba(129, 140, 248, 0.1);
	color: #a5b4fc !important;
}

/* ---------------- 暗色模式下返回顶部按钮 ---------------- */
.theme-dark .el-backtop {
	background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%) !important;
	box-shadow: 0 4px 15px rgba(79, 70, 229, 0.5) !important;
}

.theme-dark .el-backtop:hover {
	box-shadow: 0 8px 25px rgba(124, 58, 237, 0.6) !important;
}

.theme-dark .el-backtop img {
	filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)) brightness(1.2);
}

/* ---------------- 暗色模式下代码块行号 ---------------- */
.theme-dark .line-numbers .line-numbers-rows {
	border-right-color: rgba(139, 92, 246, 0.3) !important;
	background: rgba(0, 0, 0, 0.2);
}

.theme-dark .line-numbers .line-numbers-rows > span::before {
	color: #6b7280 !important;
}

/* ---------------- 暗色模式下阅读进度条 ---------------- */
.theme-dark .reading-progress-bar {
	background: linear-gradient(90deg, #4f46e5 0%, #7c3aed 50%, #ec4899 100%);
	box-shadow: 0 0 15px rgba(124, 58, 237, 0.6);
}

/* ---------------- 暗色模式下外部链接图标 ---------------- */
.theme-dark .typo a[target="_blank"]::after {
	filter: brightness(1.5);
}

